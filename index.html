<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Welcome to Hypothesis-Bio! | Hypothesis-Bio</title>
    <meta name="description" content="Property-Based Testing for Biology">
    
    
    <link rel="preload" href="/hypothesis-bio/assets/css/0.styles.06cd1d99.css" as="style"><link rel="preload" href="/hypothesis-bio/assets/js/app.a6be33b1.js" as="script"><link rel="preload" href="/hypothesis-bio/assets/js/2.20b33a3e.js" as="script"><link rel="preload" href="/hypothesis-bio/assets/js/6.99dc77a6.js" as="script"><link rel="prefetch" href="/hypothesis-bio/assets/js/3.d806982d.js"><link rel="prefetch" href="/hypothesis-bio/assets/js/4.407796d4.js"><link rel="prefetch" href="/hypothesis-bio/assets/js/5.beea3eb7.js"><link rel="prefetch" href="/hypothesis-bio/assets/js/7.4f5964a5.js"><link rel="prefetch" href="/hypothesis-bio/assets/js/8.84fa89da.js">
    <link rel="stylesheet" href="/hypothesis-bio/assets/css/0.styles.06cd1d99.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hypothesis-bio/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">Hypothesis-Bio</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hypothesis-bio/" class="nav-link router-link-exact-active router-link-active">Home</a></div><div class="nav-item"><a href="/hypothesis-bio/contributing.html" class="nav-link">Contribute</a></div><div class="nav-item"><a href="/hypothesis-bio/api.html" class="nav-link">API Reference</a></div> <a href="https://github.com/Lab41/hypothesis-bio" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hypothesis-bio/" class="nav-link router-link-exact-active router-link-active">Home</a></div><div class="nav-item"><a href="/hypothesis-bio/contributing.html" class="nav-link">Contribute</a></div><div class="nav-item"><a href="/hypothesis-bio/api.html" class="nav-link">API Reference</a></div> <a href="https://github.com/Lab41/hypothesis-bio" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Welcome to Hypothesis-Bio!</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hypothesis-bio/#quick-start" class="sidebar-link">Quick Start</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hypothesis-bio/#basic-example" class="sidebar-link">Basic Example</a></li><li class="sidebar-sub-header"><a href="/hypothesis-bio/#another-example" class="sidebar-link">Another Example</a></li></ul></li><li><a href="/hypothesis-bio/#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/hypothesis-bio/#documentation" class="sidebar-link">Documentation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/hypothesis-bio/#citation" class="sidebar-link">Citation</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="welcome-to-hypothesis-bio"><a href="#welcome-to-hypothesis-bio" aria-hidden="true" class="header-anchor">#</a> Welcome to Hypothesis-Bio!</h1> <p><img src="https://github.com/Lab41/hypothesis-bio/workflows/CI/badge.svg" alt="Build status"> <img src="https://codecov.io/gh/Lab41/hypothesis-bio/branch/master/graph/badge.svg" alt="codecov"></p> <p>Hypothesis extension for computational biology</p> <h2 id="quick-start"><a href="#quick-start" aria-hidden="true" class="header-anchor">#</a> Quick Start</h2> <h3 id="basic-example"><a href="#basic-example" aria-hidden="true" class="header-anchor">#</a> Basic Example</h3> <p>So what exactly does Hypothesis-Bio do?
Let's look at some example code that calculates <a href="https://en.wikipedia.org/wiki/GC-content" target="_blank" rel="noopener noreferrer">GC-content<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">gc_content</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>seq<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">&quot;G&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> seq<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span>
</code></pre></div><p>(Can you spot the bug in the code?)</p> <p>Now let's test it out using Hypothesis-Bio.
To do so, we specify a <em>property</em> about our code that we expect to hold true over all examples.
In this case, GC-content is a percentage, so we know it should always be between 0 and 1.
We can encode that requirement into a test:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> hypothesis <span class="token keyword">import</span> given
<span class="token keyword">from</span> hypothesis_bio <span class="token keyword">import</span> dna


@given<span class="token punctuation">(</span>dna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_gc_content</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> gc_content<span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span>
</code></pre></div><p>When we run the test (by calling <code>test_gc_content</code>), we get the following output:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_gc_content<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>

ZeroDivisionError<span class="token punctuation">:</span> division by zero
</code></pre></div><p>Aha!
When given an empty sequence, our simple <code>gc_content</code> calculator raises an error.
This simple example shows the power of property-based testing.
Instead of hard coding inputs and output examples, we can let Hypothesis-Bio do the hard work for us.</p> <h3 id="another-example"><a href="#another-example" aria-hidden="true" class="header-anchor">#</a> Another Example</h3> <p>We saw that Hypothesis-Bio can catch simple bugs like a division by zero error, but it can do so much more than that.
Let's consider another function that translates from DNA to protein:</p> <div class="language-python extra-class"><pre class="language-python"><code>genetic_code <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;ATA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;I&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ATC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;I&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ATT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;I&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ATG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ACA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ACC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ACG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ACT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;AAC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;N&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AAT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;N&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AAA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;K&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AAG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;K&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AGC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AGT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AGA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AGG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CTA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CTC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CTG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CTT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CCA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;P&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CCC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;P&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CCG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;P&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CCT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;P&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CAC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;H&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CAT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;H&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CAA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Q&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CAG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Q&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CGA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CGC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CGG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CGT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;GTA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;V&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GTC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;V&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GTG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;V&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GTT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;V&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GCA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GCC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GCG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GCT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;GAC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GAT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GAA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;E&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GAG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;E&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GGA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;G&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GGC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;G&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GGG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;G&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GGT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;G&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TCA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TCC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TCG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TCT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TTC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TTT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TTA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TTG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TAC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TAT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TAA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TAG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TGC&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TGT&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TGA&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TGG&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;W&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">translate</span><span class="token punctuation">(</span>dna<span class="token punctuation">)</span><span class="token punctuation">:</span>
    protein <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token keyword">for</span> codon_start_index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dna<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        codon <span class="token operator">=</span> dna<span class="token punctuation">[</span>codon_start_index <span class="token punctuation">:</span> codon_start_index <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span>
        protein <span class="token operator">+=</span> genetic_code<span class="token punctuation">[</span>codon<span class="token punctuation">]</span>
    <span class="token keyword">return</span> protein
</code></pre></div><p>This looks pretty good, right?
(Hint: nope! Can you find all the bugs?)
For our testing code, we can rely on the property that a DNA sequence's protein is always a third the length of DNA sequence (since three DNA bases are used to code for each amino acid in the protein):</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> hypothesis <span class="token keyword">import</span> given
<span class="token keyword">from</span> hypothesis_bio <span class="token keyword">import</span> dna


@given<span class="token punctuation">(</span>dna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_translate</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>translate<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
</code></pre></div><p>When we run it, we get the following error:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_translate<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">'A'</span><span class="token punctuation">)</span>

KeyError<span class="token punctuation">:</span> <span class="token string">'A'</span>
</code></pre></div><p>It turns out that our translation function never actually checked to ensure that the DNA sequence was a coding sequence.
If the sequence isn't at least three letters long, there's no way to convert it into a protein.
We should fix our function, but to see just what Hypothesis-Bio can do, we'll tell it the minimum length DNA sequence we want via the <code>min_size</code> argument:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@given</span><span class="token punctuation">(</span>dna<span class="token punctuation">(</span>min_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_translate</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>translate<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
</code></pre></div><p>Now we get this error:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_translate<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">'AA-'</span><span class="token punctuation">)</span>

KeyError<span class="token punctuation">:</span> <span class="token string">'AA-'</span>
</code></pre></div><p>Whoops, we forgot to take gap characters into account!
Note that Hypothesis didn't just find any example that raised a bug, it found the <em>smallest</em> falsifying example.
Again, while we should fix the <code>translate</code> function, let's just ignore the issue to see what else Hypothesis will find:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@given</span><span class="token punctuation">(</span>dna<span class="token punctuation">(</span>min_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> allow_gaps<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_translate</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>translate<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
</code></pre></div><p>Now we get:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_translate<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">'AAB'</span><span class="token punctuation">)</span>

KeyError<span class="token punctuation">:</span> <span class="token string">'AAB'</span>
</code></pre></div><p>It turns out we also forgot the ambiguous nucleotides as well.
What else can we find if we ignore ambiguous nucleotides?</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@given</span><span class="token punctuation">(</span>dna<span class="token punctuation">(</span>min_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> allow_gaps<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> allow_ambiguous<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_translate</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>translate<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
</code></pre></div><p>Now we get:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_translate<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">'AAa'</span><span class="token punctuation">)</span>

KeyError<span class="token punctuation">:</span> <span class="token string">'AAa'</span>
</code></pre></div><p>We also forgot to handle lowercase characters!
By passing the argument <code>uppercase_only=True</code> to <code>dna</code>, we can tell Hypothesis-Bio to only generate uppercase DNA sequences:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token decorator annotation punctuation">@given</span><span class="token punctuation">(</span>dna<span class="token punctuation">(</span>min_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> allow_gaps<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> allow_ambiguous<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> uppercase_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_translate</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>translate<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span>
</code></pre></div><p>And now we get:</p> <div class="language-python extra-class"><pre class="language-python"><code>Falsifying example<span class="token punctuation">:</span> test_translate<span class="token punctuation">(</span>seq<span class="token operator">=</span><span class="token string">'AAAA'</span><span class="token punctuation">)</span>

KeyError<span class="token punctuation">:</span> <span class="token string">'A'</span>
</code></pre></div><p>We now see another bug, in which a sequence whose length isn't divisible by 3 will result in a KeyError since there'll be a partial codon.
Gaps and ambiguous bases and lowercase letters, oh my!
Thankfully, Hypothesis-Bio will generate all of these weird edge cases so you don't manually have to.</p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <p>Hypothesis-Bio will be available from PyPI via:</p> <div class="language- extra-class"><pre class="language-text"><code>pip install hypothesis-bio
</code></pre></div><p>And Conda using:</p> <div class="language- extra-class"><pre class="language-text"><code>conda install -c [CHANNEL GOES HERE] hypothesis-bio
</code></pre></div><h2 id="documentation"><a href="#documentation" aria-hidden="true" class="header-anchor">#</a> Documentation</h2> <p>The documentation for Hypothesis-Bio is available <a href="https://lab41.github.io/hypothesis-bio/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="citation"><a href="#citation" aria-hidden="true" class="header-anchor">#</a> Citation</h2> <p>If you use Hypothesis-Bio, please cite it as:</p> <blockquote><p>Hypothesis-Bio. https://github.com/Lab41/hypothesis-bio</p></blockquote> <p>or, for BibTeX:</p> <div class="language-bibtex extra-class"><pre class="language-text"><code>@misc{hypothesis_bio,
  author    = {Benjamin Lee},
  title     = {{Hypothesis-Bio}},
  publisher = {GitHub},
  url       = {https://github.com/Lab41/hypothesis-bio}
}
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/12/2019, 11:53:35 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/hypothesis-bio/assets/js/app.a6be33b1.js" defer></script><script src="/hypothesis-bio/assets/js/2.20b33a3e.js" defer></script><script src="/hypothesis-bio/assets/js/6.99dc77a6.js" defer></script>
  </body>
</html>
